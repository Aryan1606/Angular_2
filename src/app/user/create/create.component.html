<!-- <p>create works!</p> -->


<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" routerLink="">Create</a>
    <a class="navbar-brand" routerLink="view"> View</a>
</nav>


<div class="container">
    <div class="row">
        <div class="col-md-6" offset-md-3>
          <br><br>
            <form [formGroup]="signupForm"  (ngSubmit)="onSubmit($event)" >
              <div id="user-data">
                  <div class="form-group">
                    <label for="username"> <b>Name:</b>  </label>
                    <input 
                    type="text" 
                    class="form-control" 
                    name ="username" 
                    id="username" 
                    formControlName="username"
                    required>
                    <span class="help-block" *ngIf="signupForm.get('username')?.hasError('pattern') && signupForm.get('username')?.touched">Incorrect Name</span>
                    <span class="help-block" *ngIf="signupForm.get('username')?.hasError('minlength') && signupForm.get('username')?.touched">Minimum Length should be 4 character</span>
                    <span class="help-block" *ngIf="signupForm.get('username')?.hasError('maxlength') && signupForm.get('username')?.touched">Maximum length should be 30 character</span>
                    <span class="help-block" *ngIf="signupForm.get('username')?.hasError('required') && signupForm.get('username')?.touched">Please enter Name</span>
                  </div>
                  <br>

                  <label for="gender"><b>Gender:</b>  </label>
                  <div class="radio" *ngFor="let gender of genders">
                    <label>
                      <input type="radio" 
                      [value]="gender"

                      formControlName = "gender">
                      {{gender}}
                    </label>
                  </div>
                  <br>

                  <div class="form-group">
                    <label for="email"><b>E-Mail:</b>   </label>
                    <input 
                    type="text"
                    class="form-control" 
                    name ="email" 
                    id="email" 
                    formControlName="email"
                    required> 
                    <span class="help-block" *ngIf="!signupForm.get('email')?.valid && signupForm.get('email')?.touched">Incorrect E-Mail</span> 
                  </div>
                  <br>

                  <div class="form-group">
                    <label for="mobile"><b>Mobile Number:</b>   </label>
                    <input 
                    type="text"
                    class="form-control" 
                    name ="mobile" 
                    id="mobile" 
                    formControlName="mobile"
                    required>  
                    <span class="help-block" *ngIf="signupForm.get('mobile')?.hasError('pattern') && signupForm.get('mobile')?.touched">Invalid Number </span>
                    <span class="help-block" *ngIf="signupForm.get('mobile')?.hasError('minlength') && signupForm.get('mobile')?.touched">Mobile Number should be of 10 digits </span>
                    <span class="help-block" *ngIf="signupForm.get('mobile')?.hasError('maxlength') && signupForm.get('mobile')?.touched">Mobile Number should be of 10 digits </span>
                  </div>
                  <br>

                  <div class="form-group">
                    <label for="category"><b>Select</b></label>
                    <select class="custom-select"    
                    formControlName="category"
                    id="category">
                        <option value="">Choose Category</option>
                        <option *ngFor="let item of list" >{{item}}</option>
                    </select>
                    <span class="help-block" *ngIf="!signupForm.get('category')?.valid && signupForm.get('category')?.touched">Select a category</span>
                  </div> 
                  <br>
                  
                  <div class="form-group">
                    <div class="form-group" formGroupName="myCheckboxGroup">
                      <b><div class="label">Check at least one checkbox <span class="highlight">*</span></div></b>
                      <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" formControlName="myCheckbox1" id="myCheckbox1">
                        <label class="custom-control-label" for="myCheckbox1">Happy</label>
                      </div>
                      <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" formControlName="myCheckbox2" id="myCheckbox2">
                        <label class="custom-control-label" for="myCheckbox2">Grouped</label>
                      </div>
                      <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" formControlName="myCheckbox3" id="myCheckbox3">
                        <label class="custom-control-label" for="myCheckbox3">Checkboxes</label>
                      </div>
                
                      <div class="invalid-feedback" *ngIf="signupForm.controls['myCheckboxGroup'].errors && signupForm.controls['myCheckboxGroup'].errors.requireOneCheckboxToBeChecked">At least one checkbox is required to be checked</div>
                    </div>
                    <!-- <span class="help-block" *ngIf="!signupForm.get('language')?.valid && signupForm.get('language')?.touched">Select atleast 1</span> -->
                  </div>

                  <div class="form-group">
                    <b><label for="file">File</label></b>
                    <input 
                        formControlName="file"
                        id="file" 
                        type="file" 
                        accept=".png, .jpg, .jpeg"
                        #fileInput
                        class="form-control"
                        (change)="onFileChange($event)">  
                  </div>  
        
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary" [disabled]="!signupForm.valid" > Preview</button>
                    <button type="reset" class="btn btn-danger" (click)="onReset()" style="margin-left: 10px;"> Reset</button>
                    <br>
                    <br>
                    <br>
                    
                </div>
            </form>
          </div>
     </div>
  </div>
      

<router-outlet></router-outlet>

